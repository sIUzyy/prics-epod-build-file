import{r as s,j as e,L as y,P as j,t as g}from"./index-B_BwmF1n.js";import{b as N}from"./table-headers-NmVF5Ah3.js";import{O as b}from"./admin-order-summary-pagination-BrnhM8ar.js";import{u as k,S as v}from"./search-bar-CHPuIwPo.js";import{L as P}from"./loading-table-DjlKue5T.js";import{H as w}from"./page-heading-Dndd7_7V.js";import{a as T}from"./index-DW_MHI2K.js";function x({data:l}){const[r,o]=s.useState(""),[a,m]=s.useState(""),[i,d]=s.useState(1);k(()=>m(r),500,[r]);const u=l.filter(t=>t.truckModel.toLowerCase().includes(a.toLowerCase())||t.truckPlateNo.toLowerCase().includes(a.toLowerCase())||t.weightCapacity.toString().includes(a)),n=10,p=Math.ceil(u.length/n),h=(i-1)*n,f=u.slice(h,h+n);return e.jsx("div",{className:"table_section mt-5 font-inter w-full  ",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-m-1.5 overflow-x-auto",children:e.jsx("div",{className:"p-1.5 min-w-full inline-block align-middle",children:e.jsxs("div",{className:"border rounded-lg divide-y divide-gray-200",children:[e.jsx("div",{className:"py-5 px-4 flex justify-between items-center",children:e.jsx(v,{searchTerm:r,setSearchTerm:o})}),e.jsx("div",{className:"overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"th-user-table",children:e.jsx("tr",{children:N.map((t,c)=>e.jsx("th",{className:"px-6 py-3",children:t},c))})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map((t,c)=>e.jsxs("tr",{className:c%2===0?"bg-[#F3F4F6]":"",children:[e.jsx("td",{className:"td-admin-table ",children:c+1}),e.jsx("td",{className:"td-admin-table ",children:t.truckModel}),e.jsxs("td",{className:"td-admin-table ",children:[t.weightCapacity," kg"]}),e.jsx("td",{className:"td-admin-table ",children:e.jsx(y,{to:`/admin/priority/${t.truckPlateNo}`,children:e.jsx("span",{className:"bg-[#343A40] px-4 text-white py-1 rounded-full w-fit",children:t.truckPlateNo})})})]},t._id))})]})}),e.jsx(b,{currentPage:i,setCurrentPage:d,totalPages:p}),f.length===0&&e.jsx("p",{className:"text-gray-500 font-medium ml-5 py-5",children:"No truck list available."})]})})})})})}x.propTypes={data:j.array};const S="https://prics-epod-backend.onrender.com";function F(){const[l,r]=s.useState([]),[o,a]=s.useState(!1);return s.useEffect(()=>{(async()=>{a(!0);try{const d=(await T.get(`${S}/api/truck`)).data.truck;r(d)}catch(i){console.error("Failed to fetch truck:",i),g.error("We could not load your truck list data. Please try again later.",{style:{backgroundColor:"#ff4d4d",color:"#fff"}})}finally{a(!1)}})()},[]),e.jsxs("div",{className:"my-5 mx-4 w-[100vh]",children:[e.jsx(w,{title:"Order Priority",description:"Check the list of tracking numbers for your trucks scheduled for delivery and set a priority order."}),o?e.jsx(P,{}):e.jsx(x,{data:l})]})}export{F as default};
